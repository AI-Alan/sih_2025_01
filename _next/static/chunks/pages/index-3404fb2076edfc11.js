(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(901)}])},901:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var l=s(5893),n=s(9008),r=s.n(n),i=s(7294);function t(){return(0,l.jsxs)("header",{className:"header",children:[(0,l.jsx)("div",{className:"brand",children:"CrypAI"}),(0,l.jsxs)("nav",{className:"links small","aria-label":"External links",children:[(0,l.jsx)("a",{href:"https://github.com/AI-Alan/sih_2025_01",target:"_blank",rel:"noreferrer noopener","aria-label":"Open GitHub repository in a new tab",children:"GitHub"}),(0,l.jsx)("a",{href:"https://colab.research.google.com/drive/1ewcaufwz05K9rPL56U-B5xAzWf1hFT57?usp=sharing",target:"_blank",rel:"noreferrer noopener","aria-label":"Open Colab notebook in a new tab",children:"Colab"})]})]})}function o(e){let{onResult:a}=e,[s,n]=(0,i.useState)(null),[r,t]=(0,i.useState)(!1),[o,c]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),m="https://your-backend.example.com",u=(0,i.useCallback)(()=>{n(null),c("")},[]),x=e=>e?e.size>10485760?"File too large (max 10MB)":"":"No file selected";async function f(e){if(!e)return;let s=x(e);if(s){c(s);return}t(!0),c(""),a&&a({loading:!0});let l=new FormData;l.append("file",e);try{let e=await fetch("".concat(m,"/analyze"),{method:"POST",body:l});if(!e.ok){let a=await e.text();throw Error("Backend ".concat(e.status,": ").concat(null==a?void 0:a.slice(0,300)))}let s=await e.json();a&&a({ok:!0,data:s})}catch(s){let e=(null==s?void 0:s.message)||"Network error";c(e),a&&a({ok:!1,error:e})}finally{t(!1)}}return(0,l.jsxs)("div",{className:"card uploader",children:[(0,l.jsx)("div",{className:"small",children:"Upload firmware binary for analysis"}),!m&&(0,l.jsx)("div",{className:"alert",children:"Backend URL is not set. Define NEXT_PUBLIC_BACKEND_URL in .env.local"}),(0,l.jsx)("label",{className:"drop ".concat(d?"drag":""),htmlFor:"fileInput",onDragOver:e=>{e.preventDefault(),h(!0)},onDragLeave:()=>h(!1),onDrop:e=>{var a,s;e.preventDefault(),e.stopPropagation(),h(!1);let l=null===(s=e.dataTransfer)||void 0===s?void 0:null===(a=s.files)||void 0===a?void 0:a[0];l&&(n(l),c(""))},children:s?s.name:"Click to pick a file or drag & drop here"}),(0,l.jsx)("input",{id:"fileInput",type:"file",accept:"*/*",style:{display:"none"},onChange:e=>{var a;n((null===(a=e.target.files)||void 0===a?void 0:a[0])||null),c("")}}),(0,l.jsxs)("div",{style:{display:"flex",gap:10,marginTop:8},children:[(0,l.jsx)("button",{className:"btn",onClick:()=>f(s),disabled:!s||r||!m,children:r?"Analyzing...":"Analyze"}),(0,l.jsx)("a",{className:"btn secondary",href:"https://colab.research.google.com/drive/1ewcaufwz05K9rPL56U-B5xAzWf1hFT57?usp=sharing",target:"_blank",rel:"noreferrer",children:"Open Colab"}),(0,l.jsx)("button",{className:"btn secondary",onClick:u,disabled:r&&!s,children:"Clear"})]}),o&&(0,l.jsx)("div",{className:"error small",style:{marginTop:8},children:o}),(0,l.jsx)("div",{className:"footer small",children:"Tip: Use small test binaries (≤10MB) for faster analysis."})]})}function c(e){let{result:a}=e;if(!a)return(0,l.jsx)("div",{className:"card small",children:(0,l.jsx)("div",{className:"small",children:"No result yet. Upload a binary to analyze."})});if(a.loading)return(0,l.jsxs)("div",{className:"card","aria-busy":"true","aria-live":"polite",children:[(0,l.jsxs)("div",{className:"result-header",children:[(0,l.jsx)("strong",{children:"Analyzing..."}),(0,l.jsx)("span",{className:"small",children:"This may take a moment"})]}),(0,l.jsx)("div",{className:"skeleton",style:{height:18,width:"60%",marginBottom:8}}),(0,l.jsx)("div",{className:"skeleton",style:{height:12,width:"40%",marginBottom:12}}),[void 0,void 0,void 0].map((e,a)=>(0,l.jsxs)("div",{className:"result-item",children:[(0,l.jsx)("div",{className:"skeleton",style:{height:14,width:"70%",marginBottom:8}}),(0,l.jsx)("div",{className:"skeleton",style:{height:8,width:"100%"}})]},a))]});if(!a.ok)return(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"result-header",children:(0,l.jsx)("strong",{children:"Error"})}),(0,l.jsx)("div",{className:"small",children:a.error})]});let s=a.data||{},n=(null==s?void 0:s.results)||[];return(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"result-header",children:[(0,l.jsx)("strong",{children:"Analysis Results"}),(0,l.jsx)("span",{className:"small",children:"Confidence scores shown"})]}),0===n.length&&(0,l.jsx)("div",{className:"small",children:"No crypto routines identified."}),n.map((e,a)=>(0,l.jsx)("div",{className:"result-item",children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontWeight:700},children:e.name||"function_".concat(a)}),(0,l.jsxs)("div",{className:"small",children:[e.family||"Unknown"," \xb7 ",e.role||"N/A"]})]}),(0,l.jsxs)("div",{style:{width:160},children:[(0,l.jsx)("div",{className:"small",children:"Confidence"}),(0,l.jsx)("div",{className:"progress",style:{marginTop:6},"aria-label":"Confidence",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(Math.max(0,Math.min(100,100*(e.confidence||0)))),children:(0,l.jsx)("span",{style:{width:"".concat(Math.round(Math.max(0,Math.min(100,100*(e.confidence||0)))),"%")}})}),(0,l.jsx)("div",{className:"small","aria-hidden":"true",style:{textAlign:"right",marginTop:4},children:"".concat(Math.round(Math.max(0,Math.min(100,100*(e.confidence||0)))),"%")})]})]})},a)),(0,l.jsx)("div",{className:"small",style:{marginTop:12},children:"Raw logs:"}),(0,l.jsx)("pre",{style:{background:"#fbfdff",padding:8,borderRadius:6,overflowX:"auto",fontSize:12},children:(null==s?void 0:s.logs)||"—"})]})}function d(){let[e,a]=(0,i.useState)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:"CryptoDetect UI"}),(0,l.jsx)("meta",{name:"description",content:"AI-based crypto detection in firmware"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,l.jsxs)("div",{className:"container full-viewport",children:[(0,l.jsx)(t,{}),(0,l.jsxs)("div",{className:"grid",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o,{onResult:e=>a(e)}),(0,l.jsx)("div",{style:{height:16}}),(0,l.jsxs)("div",{className:"card small",children:[(0,l.jsx)("strong",{children:"About"}),(0,l.jsx)("p",{className:"small",style:{marginTop:8},children:"This UI demonstrates uploading firmware binaries for ML-based crypto detection. The actual analysis runs on a separate backend — use the Colab notebook or GitHub repo links to inspect the pipeline and models."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{result:e}),(0,l.jsx)("div",{style:{height:12}}),(0,l.jsxs)("div",{className:"card small",children:[(0,l.jsx)("strong",{children:"Quick Links"}),(0,l.jsxs)("div",{className:"stack",style:{marginTop:8},children:[(0,l.jsx)("a",{className:"btn secondary",href:"https://github.com/AI-Alan/sih_2025_01",target:"_blank",rel:"noreferrer",children:"Project Repo"}),(0,l.jsx)("a",{className:"btn secondary",href:"https://colab.research.google.com/drive/1ewcaufwz05K9rPL56U-B5xAzWf1hFT57?usp=sharing",target:"_blank",rel:"noreferrer",children:"Colab Notebook"})]})]})]})]})]})]})}},9008:function(e,a,s){e.exports=s(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);